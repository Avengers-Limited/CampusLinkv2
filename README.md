# üéì CampusLink (CampusLink_v2)

CampusLink is a university-focused networking platform for students to find project teammates, create/join teams, and collaborate. This repository is a monorepo containing a Backend (Express/MongoDB) and a FrontEnd (React Native + Expo) application.

This README describes how the project is organized and how to run each part locally. It includes feature highlights, environment examples, database/collection guidance, and tips for local device testing with Expo.

---

## Repository layout

Top-level folders:

- `Backend/` ‚Äî Express server (Node.js, MongoDB). See `Backend/package.json` for scripts.
- `FrontEnd/` ‚Äî React Native app built with Expo. See `FrontEnd/package.json` for scripts.
- `uploads/` ‚Äî uploaded files stored by the backend (gitignored)

There are also helper scripts at the repository root and `Backend/` for Windows users (for example `start.bat`).

## Quick start (recommended)

1. Clone the repository:

```bash
git clone https://github.com/Avengers-Limited/CampusLinkv2.git
cd CampusLink_v2
```

2. Open two terminals (one for backend, one for frontend).

### Backend (Windows bash / macOS / Linux)

The backend is in `Backend/`. It uses Node.js (>=18) and MongoDB (or a hosted MongoDB URI).

Install dependencies and start the server:

```bash
cd Backend
npm install
# start (production-like)
npm start

# or start in development with nodemon (auto-restart)
npm run dev
```

Default host/port configuration is available in `Backend/server-config.json` (auto-generated by the server on startup). The server expects environment variables ‚Äî see `Backend/.env.example`. The main variables are described below.

Notes:

- `start` runs `node src/server.js`.
- `dev` runs `nodemon --ignore server-config.json --ignore uploads/ src/server.js`.

### FrontEnd (Expo)

The mobile app is in `FrontEnd/` and uses Expo.

Install dependencies and start Expo:

```bash
cd FrontEnd
npm install
npm start        # opens Expo dev tools
npm run android  # open on Android device/emulator
npm run ios      # open on iOS (macOS only)

# Tunnel mode (useful for device testing across networks)
npm run start:tunnel
```

Scripts available (from `FrontEnd/package.json`): `start`, `start:tunnel`, `android`, `ios`, and build scripts for EAS.

Configuration: `FrontEnd/server-config.json` contains the `apiBase` (example: `http://192.168.68.210:4000`). Update this to point at your running backend or provide environment-based overrides in the app code.

Tip for device testing: the backend writes `Backend/server-config.json` (and the repo root `server-config.json`) on startup with the machine IP so the Expo app can auto-detect the correct API base. If you run the backend on a LAN IP, ensure your mobile device is on the same network and use the `apiBase` value in `FrontEnd/server-config.json`.

---

## Environment and configuration

- Backend uses a `.env` file for secrets. Copy `Backend/.env.example` to `Backend/.env` and update values. Key variables:

- `PORT` ‚Äî HTTP port (default 4000)
- `MONGODB_URI` ‚Äî MongoDB connection string (example: `mongodb://localhost:27017/campuslink`)
- `JWT_SECRET` ‚Äî a strong secret used to sign JSON Web Tokens
- `CORS_ORIGINS` ‚Äî comma-separated origins allowed for CORS in development
- `UPLOAD_DIR` ‚Äî folder used for file uploads (default `uploads`)

- FrontEnd stores API base in `FrontEnd/server-config.json` for local development. Replace `apiBase` with your backend address (use the machine IP if testing on a physical device).
- FrontEnd stores API base in `FrontEnd/server-config.json` for local development. Replace `apiBase` with your backend address (use the machine IP if testing on a physical device).

Security note: Do not commit sensitive credentials. Keep `.env` files out of version control.

## Useful commands (summary)

- Start backend (prod-like):
  - `cd Backend && npm start`
- Start backend (dev):
  - `cd Backend && npm run dev`
- Start frontend (Expo):
  - `cd FrontEnd && npm start`
- Start frontend on Android:
  - `cd FrontEnd && npm run android`

If you prefer Windows `*.bat` helpers, there are `start.bat` files in the top-level and `Backend/` that wrap these commands for convenience.

## Features (expanded)

CampusLink contains a broad feature set focused on student collaboration and discovery. The implementation is split between backend REST endpoints and the Expo frontend UI.

- Authentication & Profiles

  - Email/password auth with JWTs
  - Profile setup: name, bio, major, year, skills, avatar
  - Password change and recovery endpoints

- Social Feed & Posts

  - Create, edit, delete posts
  - Likes, shares and comments
  - Image uploads (stored under `/uploads` and served by the backend)

- Teams & Projects

  - Create/browse projects and teams
  - Join requests / team membership management
  - Project roles and basic stats

- Connections & Messaging

  - Connection requests, accept/reject flow
  - One-to-one messages and conversations (REST-based)

- Stories, Notifications & Real-time UX
  - Stories feature (image + text) and story views
  - Notifications (unread counts, mark-as-read)
  - Note: real-time sockets (WebSockets) are not yet implemented ‚Äî messages/notifications use REST endpoints.

## Tech stack (accurate)

- Backend: Node.js (>=18), Express, Mongoose (MongoDB), multer (uploads), bcryptjs, jsonwebtoken
- Frontend: React Native (Expo), React Navigation, AsyncStorage, fetch-based API helper
- Others: nodemon for dev, morgan for request logging

The frontend dependencies list in `FrontEnd/package.json` also includes `@supabase/supabase-js` ‚Äî it is present in dependencies but the app's API layer is primarily wired to the backend REST API (see `FrontEnd/lib/api.js`). If you plan to use Supabase features directly from the client, review `FrontEnd/lib/` and update as needed.

## Project structure (detailed)

Top-level

```
Backend/
   ‚îú‚îÄ src/
   ‚îÇ   ‚îú‚îÄ app.js                # Express app and routes
   ‚îÇ   ‚îú‚îÄ server.js             # server startup, DB connect, server-config writer
   ‚îÇ   ‚îú‚îÄ controllers/          # route handlers
   ‚îÇ   ‚îú‚îÄ models/               # Mongoose models (User, Post, Project...)
   ‚îÇ   ‚îú‚îÄ routes/               # Express routers
   ‚îÇ   ‚îî‚îÄ utils/                # helpers (DB connect, env loader, network helpers)
   ‚îú‚îÄ package.json
   ‚îú‚îÄ .env.example
   ‚îî‚îÄ server-config.json        # written by server on startup (apiBase, host, port)

FrontEnd/
   ‚îú‚îÄ App.js
   ‚îú‚îÄ lib/
   ‚îÇ   ‚îî‚îÄ api.js                # central API helper used by the app
   ‚îú‚îÄ context/                  # AuthContext, etc.
   ‚îú‚îÄ components/
   ‚îú‚îÄ screens/
   ‚îî‚îÄ package.json

uploads/                       # stored by backend and served at /uploads
```

## Database & collections (high level)

The backend uses MongoDB (via Mongoose). Main collections and commonly stored fields:

- `users` / `profiles`

  - \_id, email, passwordHash, name, bio, major, year, skills[], avatar_url, createdAt

- `posts`

  - \_id, authorId, text, images[], likes[], shares, commentsCount, createdAt

- `comments`

  - \_id, postId, authorId, content, createdAt

- `projects` / `teams`

  - \_id, ownerId, title, description, category, roles[], members[], openPositions[], createdAt

- `team_members`

  - modeled as arrays inside `projects` or as junction collection depending on routes

- `messages` / `conversations`
  - conversationId, participants[], messages[] (senderId, content, read, createdAt)

These are high-level shapes; consult `Backend/src/models/` for exact Mongoose schemas.

## Security

- `JWT_SECRET` signs user tokens; keep it secret and rotate if leaked.
- Uploaded files are served from `uploads/` ‚Äî validate filenames and content types when processing uploads.
- CORS is permissive in development; set `CORS_ORIGINS` in production to specific origins.

## Testing & linting

This project doesn't contain a full test suite yet. Example NPM scripts exist but are placeholders. Recommended next steps:

- Add unit tests for backend routes (Jest + supertest) and small smoke tests for frontend screens.
- Add an ESLint configuration and a CI job to run lint/tests on PRs.

## Troubleshooting

- Backend doesn't start / DB connection error: make sure `MONGODB_URI` in `Backend/.env` is correct and MongoDB is running.
- Frontend shows `Cannot connect to backend`: ensure `Backend/server-config.json` has the correct `apiBase` and your device is on the same network. For Android emulator, app falls back to `http://10.0.2.2:4000`.

## Roadmap

- [ ] Real-time messaging (WebSocket / socket.io)
- [ ] Push notifications
- [ ] Advanced search & recommendations
- [ ] Team matching algorithm
- [ ] CI + tests and linting

## Contributing

1. Fork the repo
2. Create a feature branch: `git checkout -b feature/your-feature`
3. Make changes and include tests/documentation
4. Push and open a pull request

When opening PRs, include a description, screenshots (if UI), and testing steps.

## License

This project is licensed under the MIT License. See `LICENSE`.

## Support

For questions or to report issues, open an issue in this repository or email `support@campuslink.com`.

---

If you'd like, I can also:

- Add a `Backend/README.md` with step-by-step local DB instructions (including a Docker Compose example),
- Create `Backend/.env.example` and `FrontEnd/.env.example` (if you want the frontend to use env variables rather than `server-config.json`),
- Or split the README into per-subproject READMEs (recommended for larger teams).

Tell me which additional artifacts (per-subproject README, env examples, Docker Compose) you want and I'll add them.

## Project structure (high level)

Backend notable files:

- `Backend/src/server.js` ‚Äî main server entry
- `Backend/src/app.js` ‚Äî express app and middleware
- `Backend/src/controllers/`, `models/`, `routes/`, `middleware/` ‚Äî server logic
- `Backend/server-config.json` ‚Äî development host/port and apiBase example

Frontend notable files:

- `FrontEnd/App.js` ‚Äî Expo entry
- `FrontEnd/lib/api.js` ‚Äî API helper
- `FrontEnd/context/AuthContext.js` ‚Äî auth context
- `FrontEnd/screens/` ‚Äî app screens

## Testing & linting

There are no formal tests or linter configs enforced across the monorepo yet. Example scripts exist in each package.json (`npm test`, `npm run lint`) but they are placeholders.

## Contributing

Please follow standard GitHub flow:

1. Fork the repository
2. Create a branch: `git checkout -b feature/your-feature`
3. Make commits and push
4. Open a pull request against the `main` branch

When opening PRs, include a short description of the change, related issue (if any), and testing instructions.

## License

This project is licensed under the MIT License. See the `LICENSE` file for details.

---

If you'd like, I can also:

- Add a minimal `Backend/.env.example` and `FrontEnd/.env.example` (showing required keys),
- Add a CONTRIBUTING.md with PR checklist,
- Or split top-level README into `README.md` (overview) + `Backend/README.md` + `FrontEnd/README.md` for more detail.

If you want any of the above, tell me which and I'll implement it.

Made with ‚ù§Ô∏è by the CampusLink Team
